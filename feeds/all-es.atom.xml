<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Disceres</title><link href="https://angellareo.github.io/blog/" rel="alternate"></link><link href="https://angellareo.github.io/blog/feeds/all-es.atom.xml" rel="self"></link><id>https://angellareo.github.io/blog/</id><updated>2024-06-08T12:39:00+02:00</updated><entry><title>Claves RSA para conexiones SSH</title><link href="https://angellareo.github.io/blog/posts/2024/06/claves-rsa-ssh/" rel="alternate"></link><published>2024-06-08T12:39:00+02:00</published><updated>2024-06-08T12:39:00+02:00</updated><author><name>Angel Lareo</name></author><id>tag:angellareo.github.io,2024-06-08:/blog/posts/2024/06/claves-rsa-ssh/</id><summary type="html">&lt;p&gt;Te cuento cómo conectar por SSH a tu(s) servidor(es) usando claves RSA&lt;/p&gt;</summary><content type="html">&lt;p&gt;Los que administramos servidores nos pasamos el día conectando por SSH a distintas máquinas. Hacerlo mediante pares de claves RSA (pública y privada) nos aporta distintas ventajas de seguridad:
 - Las claves RSA (generalmente de 2048 bits o más) son extremadamente difíciles de descifrar en comparación con una contraseña típica. 
 - Las claves RSA no necesitan ser recordadas ni ingresadas manualmente, lo que elimina el riesgo de que alguien las observe o las adivine.
 - Al cifrar con AES la clave privada mediante contraseña añadimos un factor adicional de seguridad, que impedirá el acceso a nuestros servidores incluso si nuestro sistema es comprometido.&lt;/p&gt;
&lt;h1&gt;Generar el par de claves&lt;/h1&gt;
&lt;p&gt;Vamos a generar un par de claves RSA de 4096 bits:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh-keygen -t rsa -b 4096
&lt;span class="gh"&gt;#&lt;/span&gt; Podemos indicar el nombre y la ruta para el par de claves
&lt;span class="gh"&gt;#&lt;/span&gt; Por defecto se generará en ~/.ssh/id_rsa
&lt;span class="gh"&gt;#&lt;/span&gt; Podemos elegir (y recomiendo) cifrar la clave privada con una contraseña
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;La mayoría de tutoriales utilizan la ruta por defecto, aquí vamos a seguir otra vía: utilizar una clave específica para cada par de usuario-servidor. En adelante supondremos que hemos generado el par de claves &lt;code&gt;~/.ssh/usuario_servidor_rsa&lt;/code&gt; (la clave pública estará en la misma ruta, en un segundo fichero terminado en &lt;code&gt;.pub&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Si hemos elegido no cifrar la clave privada y cambiamos de opinión, o si la hemos cifrado con una contraseña que deseamos cambiar, podemos utilizar:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh-keygen -p -f ~/.ssh/usuario_servidor_rsa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Instalar clave en nuestro servidor&lt;/h1&gt;
&lt;p&gt;Ahora procedemos a instalar la clave pública en nuestro usuario del server. Suponemos que nuestro usuario es &lt;code&gt;usuario&lt;/code&gt; y nuestro servidor es &lt;code&gt;servidor.es&lt;/code&gt;. Para elegir la clave a copiar utilizaremos el parámetro &lt;code&gt;-i &amp;lt;ruta-a-la-clave&amp;gt;&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;ssh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;~/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ssh&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usuario_servidor_rsa&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;usuario&lt;/span&gt;&lt;span class="nv"&gt;@servidor&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;es&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nos pedirá la contraseña que habitualmente utilizamos para conectarnos e instalará la clave pública en la ruta &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; de nuestro servidor (puedes confirmarlo haciendo &lt;code&gt;cat&lt;/code&gt; de este archivo). Esto le indica al servidor que el usuario que disponga de la clave privada que encaje con la clave pública que acabamos de instalar está autorizado a conectarse. Vamos a probarlo.&lt;/p&gt;
&lt;h1&gt;Conectar al servidor&lt;/h1&gt;
&lt;p&gt;Para conectar al servidor lanzamos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;ssh&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;~/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ssh&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usuario_servidor_rsa&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;usuario&lt;/span&gt;&lt;span class="nv"&gt;@servidor&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;es&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Y únicamente tendremos que introducir la contraseña con la que hemos cifrado la clave privada para conectarnos.&lt;/p&gt;
&lt;p&gt;Como último paso, si queremos asociar la clave a toda conexión ssh con ese usuario a ese servidor, podemos establecerlo en nuestro fichero &lt;code&gt;~/.ssh/config&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Host servidor.es
    User usuario
    IdentityFile ~/.ssh/usuario_servidor_rsa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora bastará con que conectemos mediante:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh servidor.es
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;¡Listo! Espero que os resulte útil.&lt;/p&gt;</content><category term="General"></category><category term="ssh"></category><category term="RSA"></category></entry><entry><title>Hojas de referencia</title><link href="https://angellareo.github.io/blog/posts/2024/05/principales-hojas-referencia/" rel="alternate"></link><published>2024-05-11T20:02:00+02:00</published><updated>2024-05-11T20:02:00+02:00</updated><author><name>Angel Lareo</name></author><id>tag:angellareo.github.io,2024-05-11:/blog/posts/2024/05/principales-hojas-referencia/</id><summary type="html">&lt;p&gt;Algunas hojas de referencia que pueden ayudarte en tu día a día.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Como ya dije, tengo intención de usar el blog como referencia (aunque con la esperanza de que a alguien más le resulte útil).&lt;/p&gt;
&lt;p&gt;Existen muchísimas hojas de referencia, la mayoría probablemente más completas de lo que yo pueda crear aquí. No obstante, puesto que cada uno tenemos nuestras necesidades y preferencias, aquí está es mi selección personalizada de comandos útiles para el día a día (que, probablemente, se irá actualizando).&lt;/p&gt;
&lt;h1&gt;conda&lt;/h1&gt;
&lt;p&gt;Listar environments&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;conda&lt;span class="w"&gt; &lt;/span&gt;info&lt;span class="w"&gt; &lt;/span&gt;--envs
conda&lt;span class="w"&gt; &lt;/span&gt;env&lt;span class="w"&gt; &lt;/span&gt;list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Crear enviroments:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;conda&lt;span class="w"&gt; &lt;/span&gt;create&lt;span class="w"&gt; &lt;/span&gt;--name&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;my-env&amp;gt;
conda&lt;span class="w"&gt; &lt;/span&gt;create&lt;span class="w"&gt; &lt;/span&gt;-n&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;my-env&amp;gt;
conda&lt;span class="w"&gt; &lt;/span&gt;create&lt;span class="w"&gt; &lt;/span&gt;-n&lt;span class="w"&gt; &lt;/span&gt;myenv&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;python&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.12
conda&lt;span class="w"&gt; &lt;/span&gt;env&lt;span class="w"&gt; &lt;/span&gt;create&lt;span class="w"&gt; &lt;/span&gt;-f&lt;span class="w"&gt; &lt;/span&gt;environment.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Exportar environment a fichero yml:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;conda&lt;span class="w"&gt; &lt;/span&gt;env&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;environment.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Eliminar environment:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;conda&lt;span class="w"&gt; &lt;/span&gt;remove&lt;span class="w"&gt; &lt;/span&gt;--name&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;my-env&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;--all
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;git&lt;/h1&gt;
&lt;p&gt;Configuración inicial&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--global&lt;span class="w"&gt; &lt;/span&gt;user.name&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Your Name&amp;quot;&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--global&lt;span class="w"&gt; &lt;/span&gt;user.email&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;your.email@example.com&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Clonación de repositorios&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git clone &amp;lt;repository_url&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Añadir o eliminar del stage (cambios a confirmar)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;file_name&amp;gt;&lt;span class="w"&gt;              &lt;/span&gt;&lt;span class="c1"&gt;# Stage a specific file&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;.&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="c1"&gt;# Stage all changes&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;reset&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;file_name&amp;gt;&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;# Unstage a specific file&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;reset&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="c1"&gt;# Unstage all changes&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Mostrar remotos&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;remote&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="c1"&gt;# List remote repositories&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Confirmar cambios&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git commit -m &amp;quot;Commit message&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Push / pull&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;push&lt;span class="w"&gt; &lt;/span&gt;origin&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;branch_name&amp;gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;# Push changes to a remote repository&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;pull&lt;span class="w"&gt; &lt;/span&gt;origin&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;branch_name&amp;gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;# Pull changes from a remote repository&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Deshacer últimos commits (no &lt;em&gt;pusheados&lt;/em&gt;). El ejemplo se muestra para &lt;em&gt;1&lt;/em&gt; commit, pero podría hacerse para un número &lt;em&gt;n&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git reset HEAD~1                 # Undo last commit and keep changes staged
git reset HEAD~1 --soft          # Undo last commit and keep changes unstaged
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Manejo de ramas&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;branch&lt;span class="w"&gt;                       &lt;/span&gt;&lt;span class="c1"&gt;# List branches&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;branch&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;branch_name&amp;gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="c1"&gt;# Create a new branch&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;checkout&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;branch_name&amp;gt;&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="c1"&gt;# Switch to a different branch&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;merge&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;branch_name&amp;gt;&lt;span class="w"&gt;          &lt;/span&gt;&lt;span class="c1"&gt;# Merge changes from another branch into the current branch&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Manejo del stash&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;stash&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="c1"&gt;# Stash changes&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;stash&lt;span class="w"&gt; &lt;/span&gt;pop&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="c1"&gt;# Apply stashed changes and remove them from the stash&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;stash&lt;span class="w"&gt; &lt;/span&gt;list&lt;span class="w"&gt;                   &lt;/span&gt;&lt;span class="c1"&gt;# List stashed changes&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;stash&lt;span class="w"&gt; &lt;/span&gt;apply&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="c1"&gt;# Apply stashed changes without removing them from the stash&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;stash&lt;span class="w"&gt; &lt;/span&gt;drop&lt;span class="w"&gt;                   &lt;/span&gt;&lt;span class="c1"&gt;# Remove a specific stash&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;stash&lt;span class="w"&gt; &lt;/span&gt;clear&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="c1"&gt;# Remove all stashes&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="General"></category><category term="cheatsheet"></category><category term="referencia"></category></entry><entry><title>¡Bienvenida!</title><link href="https://angellareo.github.io/blog/posts/2024/04/bienvenida/" rel="alternate"></link><published>2024-04-28T23:01:00+02:00</published><updated>2024-04-28T23:01:00+02:00</updated><author><name>Angel Lareo</name></author><id>tag:angellareo.github.io,2024-04-28:/blog/posts/2024/04/bienvenida/</id><summary type="html">&lt;p&gt;Inauguración de este blog&lt;/p&gt;</summary><content type="html">&lt;p&gt;¡Bienvenidas todas las personas a este blog! Espero poder contar por aquí algunas de las cosas que me interesan, y espero que a vosotras también os resulten interesantes.&lt;/p&gt;
&lt;p&gt;Principalmente podréis encontrar (si todo va según lo esperado) contenidos relacionados con la informática y la tecnología con una perspectiva libre u &lt;em&gt;open-source&lt;/em&gt;. Hablaré de aquello que me vaya interesando en mi día a día y, a menudo, utilizaré el blog como referencia para mí mismo (dado que, muy probablemente, seré el principal visitante :D). Esporádicamente quizá hable también sobre los temas que investigo, los que imparto en la universidad o sobre aquellos que me interesan y están en la intersección entre tecnología y sociedad.&lt;/p&gt;
&lt;p&gt;Para quien le interese, el blog es contenido estático construido con &lt;a href="https://getpelican.com/"&gt;Pelican&lt;/a&gt;, similar a &lt;a href="https://jekyllrb.com/"&gt;Jekyll&lt;/a&gt; pero desarrollado en python. &lt;/p&gt;
&lt;p&gt;Muchas gracias si estás leyendo esto por llegar hasta aquí.&lt;/p&gt;
&lt;p&gt;¡Arrancamos!&lt;/p&gt;</content><category term="General"></category><category term="pelican"></category><category term="open source"></category><category term="foss"></category></entry></feed>